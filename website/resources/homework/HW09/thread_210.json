{
  "id": 7242178,
  "user_id": 967449,
  "course_id": 84647,
  "original_id": null,
  "editor_id": null,
  "accepted_id": null,
  "duplicate_id": null,
  "number": 210,
  "type": "post",
  "title": "HW9 Q1: Justifying Scaled Dot Product Attention",
  "content": "<document version=\"2.0\"><figure><image src=\"https://static.us.edusercontent.com/files/Wg8b4HOhTLKKsWb7vgcLeThm\" width=\"658\" height=\"195.4238042269188\"/></figure><paragraph/></document>",
  "document": "",
  "category": "Problem Sets",
  "subcategory": "",
  "subsubcategory": "",
  "flag_count": 0,
  "star_count": 0,
  "view_count": 276,
  "unique_view_count": 101,
  "vote_count": 0,
  "reply_count": 8,
  "unresolved_count": 0,
  "is_locked": false,
  "is_pinned": false,
  "is_private": false,
  "is_endorsed": false,
  "is_answered": false,
  "is_student_answered": false,
  "is_staff_answered": false,
  "is_archived": false,
  "is_anonymous": false,
  "is_megathread": true,
  "anonymous_comments": false,
  "approved_status": "approved",
  "created_at": "2025-11-03T03:26:52.480594+11:00",
  "updated_at": "2025-12-17T23:27:21.119337+11:00",
  "deleted_at": null,
  "pinned_at": null,
  "anonymous_id": 0,
  "vote": 0,
  "is_seen": false,
  "is_starred": false,
  "is_watched": null,
  "glanced_at": null,
  "new_reply_count": 0,
  "duplicate_title": null,
  "answers": [],
  "comments": [
    {
      "id": 16851311,
      "user_id": 606786,
      "course_id": 84647,
      "thread_id": 7242178,
      "original_id": null,
      "parent_id": null,
      "editor_id": null,
      "number": 1,
      "type": "comment",
      "kind": "normal",
      "content": "<document version=\"2.0\"><paragraph>Problem context: </paragraph><paragraph>This is a short problem to help you understand why we choose the normalization that we do while computing attention<break/><break/>For this homework, the first four problems are all intended to be quite short and basic. We know you have the project proposal, getting feedback on it, and you need to start ramping up hard on the project this week. So we are keeping this HW light. </paragraph></document>",
      "document": "Problem context: \n\nThis is a short problem to help you understand why we choose the normalization that we do while computing attention\n\nFor this homework, the first four problems are all intended to be quite short and basic. We know you have the project proposal, getting feedback on it, and you need to start ramping up hard on the project this week. So we are keeping this HW light. ",
      "flag_count": 0,
      "vote_count": 0,
      "is_endorsed": false,
      "is_anonymous": false,
      "is_private": false,
      "is_resolved": true,
      "created_by_bot_id": null,
      "created_at": "2025-11-03T09:09:41.398142+11:00",
      "updated_at": null,
      "deleted_at": null,
      "anonymous_id": 0,
      "vote": 0,
      "comments": []
    },
    {
      "id": 16866007,
      "user_id": 1294638,
      "course_id": 84647,
      "thread_id": 7242178,
      "original_id": null,
      "parent_id": null,
      "editor_id": null,
      "number": 2,
      "type": "comment",
      "kind": "normal",
      "content": "<document version=\"2.0\"><paragraph>Can we assume that the distributions of q, k are independent? That is, are they IID?</paragraph></document>",
      "document": "Can we assume that the distributions of q, k are independent? That is, are they IID?",
      "flag_count": 0,
      "vote_count": 0,
      "is_endorsed": false,
      "is_anonymous": false,
      "is_private": false,
      "is_resolved": true,
      "created_by_bot_id": null,
      "created_at": "2025-11-04T08:43:28.593113+11:00",
      "updated_at": null,
      "deleted_at": null,
      "anonymous_id": 0,
      "vote": 0,
      "comments": [
        {
          "id": 16866943,
          "user_id": 1294638,
          "course_id": 84647,
          "thread_id": 7242178,
          "original_id": null,
          "parent_id": 16866007,
          "editor_id": null,
          "number": 3,
          "type": "comment",
          "kind": "normal",
          "content": "<document version=\"2.0\"><paragraph>Additionally, can we assume the entries are independent? That is, is q_i independent of q_j | i != j?<break/><break/>If not, am I correct in thinking we must assume each pair (q_i, k_i) has a unique correlation r_i, and that pairs (q_i*k_i, q_j*k_j) also have unique correlation r_ij?</paragraph></document>",
          "document": "Additionally, can we assume the entries are independent? That is, is q_i independent of q_j | i != j?\n\nIf not, am I correct in thinking we must assume each pair (q_i, k_i) has a unique correlation r_i, and that pairs (q_i*k_i, q_j*k_j) also have unique correlation r_ij?",
          "flag_count": 0,
          "vote_count": 0,
          "is_endorsed": false,
          "is_anonymous": false,
          "is_private": false,
          "is_resolved": false,
          "created_by_bot_id": null,
          "created_at": "2025-11-04T09:39:53.011515+11:00",
          "updated_at": null,
          "deleted_at": null,
          "anonymous_id": 0,
          "vote": 0,
          "comments": [
            {
              "id": 16872902,
              "user_id": 967449,
              "course_id": 84647,
              "thread_id": 7242178,
              "original_id": null,
              "parent_id": 16866943,
              "editor_id": 967449,
              "number": 5,
              "type": "comment",
              "kind": "normal",
              "content": "<document version=\"2.0\"><paragraph>For the independence of the entries, think about what we know about uncorrelated jointly Gaussian random variables.</paragraph></document>",
              "document": "For the independence of the entries, think about what we know about uncorrelated jointly Gaussian random variables.",
              "flag_count": 0,
              "vote_count": 1,
              "is_endorsed": false,
              "is_anonymous": false,
              "is_private": false,
              "is_resolved": false,
              "created_by_bot_id": null,
              "created_at": "2025-11-04T17:03:31.166745+11:00",
              "updated_at": "2025-11-05T07:54:37.783136+11:00",
              "deleted_at": null,
              "anonymous_id": 0,
              "vote": 0,
              "comments": [
                {
                  "id": 16879163,
                  "user_id": 1294638,
                  "course_id": 84647,
                  "thread_id": 7242178,
                  "original_id": null,
                  "parent_id": 16872902,
                  "editor_id": null,
                  "number": 6,
                  "type": "comment",
                  "kind": "normal",
                  "content": "<document version=\"2.0\"><paragraph>This makes sense, but we are not given that the variables are uncorrelated and jointly Gaussian right?<break/><break/>Especially in this context, I imagine that the default assumption would be that the variables are correlated since they represent embedding features, which I would expect a-priori are correlated with each other. </paragraph><paragraph/></document>",
                  "document": "This makes sense, but we are not given that the variables are uncorrelated and jointly Gaussian right?\n\nEspecially in this context, I imagine that the default assumption would be that the variables are correlated since they represent embedding features, which I would expect a-priori are correlated with each other. \n\n",
                  "flag_count": 0,
                  "vote_count": 0,
                  "is_endorsed": false,
                  "is_anonymous": false,
                  "is_private": false,
                  "is_resolved": false,
                  "created_by_bot_id": null,
                  "created_at": "2025-11-05T07:54:44.766582+11:00",
                  "updated_at": null,
                  "deleted_at": null,
                  "anonymous_id": 0,
                  "vote": 0,
                  "comments": [
                    {
                      "id": 16880795,
                      "user_id": 967449,
                      "course_id": 84647,
                      "thread_id": 7242178,
                      "original_id": null,
                      "parent_id": 16879163,
                      "editor_id": 967449,
                      "number": 8,
                      "type": "comment",
                      "kind": "normal",
                      "content": "<document version=\"2.0\"><paragraph>Since </paragraph><math>q∼ \\mathcal{N}(0, \\sigma^2I)</math><paragraph>Then we know that </paragraph><math>\\mathrm{Cov}(q_i, q_j) = \\begin{cases}\\sigma^2 \\text{ if } i=j\\\\ 0 \\text{ otherwise} \\end{cases}</math><paragraph>Also, given that q is multivariate Gaussian, then each q_i, q_j are jointly Gaussian.</paragraph></document>",
                      "document": "Since \n\n$$q∼ \\mathcal{N}(0, \\sigma^2I)$$\n\nThen we know that \n\n$$\\mathrm{Cov}(q_i, q_j) = \\begin{cases}\\sigma^2 \\text{ if } i=j\\\\ 0 \\text{ otherwise} \\end{cases}$$\n\nAlso, given that q is multivariate Gaussian, then each q_i, q_j are jointly Gaussian.",
                      "flag_count": 0,
                      "vote_count": 0,
                      "is_endorsed": false,
                      "is_anonymous": false,
                      "is_private": false,
                      "is_resolved": false,
                      "created_by_bot_id": null,
                      "created_at": "2025-11-05T09:51:19.600507+11:00",
                      "updated_at": "2025-11-05T09:52:06.140891+11:00",
                      "deleted_at": null,
                      "anonymous_id": 0,
                      "vote": 0,
                      "comments": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": 16872824,
          "user_id": 967449,
          "course_id": 84647,
          "thread_id": 7242178,
          "original_id": null,
          "parent_id": 16866007,
          "editor_id": null,
          "number": 4,
          "type": "comment",
          "kind": "normal",
          "content": "<document version=\"2.0\"><paragraph>Yes q and k are independent.</paragraph></document>",
          "document": "Yes q and k are independent.",
          "flag_count": 0,
          "vote_count": 1,
          "is_endorsed": false,
          "is_anonymous": false,
          "is_private": false,
          "is_resolved": false,
          "created_by_bot_id": null,
          "created_at": "2025-11-04T16:53:49.369504+11:00",
          "updated_at": "2025-11-05T07:54:45.850466+11:00",
          "deleted_at": null,
          "anonymous_id": 0,
          "vote": 0,
          "comments": [
            {
              "id": 16879165,
              "user_id": 1294638,
              "course_id": 84647,
              "thread_id": 7242178,
              "original_id": null,
              "parent_id": 16872824,
              "editor_id": 1294638,
              "number": 7,
              "type": "comment",
              "kind": "normal",
              "content": "<document version=\"2.0\"><paragraph>Thanks!</paragraph></document>",
              "document": "Thanks!",
              "flag_count": 0,
              "vote_count": 0,
              "is_endorsed": false,
              "is_anonymous": false,
              "is_private": false,
              "is_resolved": false,
              "created_by_bot_id": null,
              "created_at": "2025-11-05T07:54:53.348251+11:00",
              "updated_at": "2025-11-05T07:55:05.431395+11:00",
              "deleted_at": null,
              "anonymous_id": 0,
              "vote": 0,
              "comments": []
            }
          ]
        }
      ]
    }
  ]
}